{% extends 'template.html' %}
{% load static %}
{% block title %}Dashboard{% endblock %}
{% block css %}
<link rel="stylesheet" href="{% static 'dashboard/css/dashboard.css' %}">
{% endblock %}
{% block script %}
<script src="{% static 'dashboard/js/dashboard.js' %}"></script>
<script src="{% static 'dashboard/js/filebrowser.js' %}"></script>
{% endblock %}
{% block content %}
<div class='center'>
    <h1>Dashboard</h1>
</div>
{% if ssh_info %}
    <script>
        window.sshInfo = {
            host: '{{ ssh_info.hostname }}',
            user: '{{ ssh_info.username }}',
            password: '{{ ssh_info.password }}',
            port: {{ ssh_info.port }}
        };
    </script>
    <div class="ssh-info">
        <h2>Server Info</h2>
        <p>Hostname: {{ ssh_info.hostname }}</p>
        <p>Username: {{ ssh_info.username }}</p>
        <p>Port: {{ ssh_info.port }}</p>
    </div>
    <div class='server-info'>
        <h2>System Metrics</h2>
        <div class='metric'>
            <i class="fa-solid fa-microchip"></i>
            <p id='cpu'>CPU: Loading...</p>
        </div>
        <div class='metric'>
        
            <p id='ram'>RAM: Loading...</p>
        </div>]
        <div class='metric'>
            <i class="fa-solid fa-hard-drive"></i>
            <p id='disk'>DISK: Loading...</p>
        </div>
    </div>
    <div class='file-directory'>
        <h2>File Directory</h2>
        <div id='file-display'></div>
    </div>
{% else %}
    <p>No SSH connection info. <a href="/">Go back</a></p>
{% endif %}
{% endblock %}